<!doctype html>
<html lang="pt-br">

<head th:include="padrao/general.html :: headfiles">
    <!-- Para fazer funcionar sem rodar a aplicacao -->
    <div th:if="false">
        <!-- Required meta tags -->
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">


        <link rel="stylesheet" href="../static/css/main.css" th:href="@{/css/main.css}">

        <!-- Bootstrap CSS -->
        <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.1.2/css/bootstrap.min.css" data-integrity="sha384-Smlep5jCw/wG7hdkwQ/Z5nLIefveQRIY9nfy6xoR1uRYBtpZgI6339F5dgvm/e9B"
            crossorigin="anonymous">

        <!-- Font Awesome -->
        <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.3.1/css/all.css" data-integrity="sha384-mzrmE5qonljUremFsqc01SB46JvROS7bZs3IO2EmfFsd15uHvIt+Y8vEf7N7fWAU"
            crossorigin="anonymous">
    </div>
    <link rel="stylesheet" href="../static/css/cart.css" th:href="@{/css/cart.css}">
    <link rel="stylesheet" href="../static/css/checkout.css" th:href="@{/css/checkout.css}">

    
</head>

<body>

    <!-- Navigation -->
    <div th:replace="padrao/general.html :: navbarfiles"></div>
    <div th:if="false">
        <nav class="navbar navbar-expand-lg navbar-light bg-color fixed-top">
            <div class="container">
                <a class="navbar-brand" href="index.html" th:href="@{/}">PetChopp</a>
                <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarResponsive" aria-controls="navbarResponsive"
                    aria-expanded="false" aria-label="Toggle navigation">
                    <span class="navbar-toggler-icon"></span>
                </button>
                <div class="collapse navbar-collapse" id="navbarResponsive">
                    <ul class="navbar-nav ml-auto">
                        <li class="nav-item">
                            <a class="nav-link" href="search.html" th:href="@{/search}">Search</a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link" href="cart.html" th:href="@{/cart}">Carrinho</a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link" href="cart.html" th:href="@{/cart}">Cadastro</a>
                        </li>
                    </ul>
                </div>
            </div>
        </nav>
    </div>

    <!-- Page Content -->
    <div class="container p-3 p-md-4 nav-margin checkout">
        <div style="background-color: red" class="font-weight-bold" th:if="${erro != null}">
            <i class="fas fa-exclamation-circle"></i> [[${erro}]]</div>
        <form th:action="@{/checkout/comprar}" method="post" th:object="${venda}">
            <div class="cart-ico">
                <div class="row checkout-ico-line">
                    <div class="col-md-4 col-sm-12">
                        <h4 class="text-left">
                            <i class="fas fa-clipboard-check"></i> Finalizar Compra</h4>
                    </div>
                    <div class="col-md-4 offset-md-4 col-sm-12 checkout-btn-finalizar">
                        <a href="#" th:href="@{#}" class="btn btn-primary btn-block font-weight-bold">Finalizar Compra</a>
                    </div>
                </div>
            </div>

            <div class="row">
                <div class="col-md-8 col-sm-6 col-xs-12">
                    <div class="row">
                        <div class="col-md-6 box">
                            <p class="text-white bg-dark box-title">1 - ENDEREÇOS &nbsp;
                                <i class="fas fa-map-marker-alt"></i>
                            </p>
                            <div class="box-endereco" th:each="endereach : ${session.cliente.enderecos}">
                                <input id="ends" type="radio" name="ends" th:field="*{endereco.idEndereco}" th:value="${endereach.idEndereco}">
                                <label class="font-weight-bold" for="ends" th:text="${endereach.logradouro}"></label>
                                <ul>
                                    <li>[[${endereach.bairro}]], [[${endereach.num}]]</li>
                                    <li>[[${endereach.cep}]] | [[${endereach.cidade}]] - [[${endereach.uf}]]</li>
                                </ul>
                            </div>
                        </div>

                        <div class="col-md-6 box-central">
                            <div class="col-md-12 box">
                                <p class="text-white bg-dark box-title">2 - FRETE &nbsp;
                                    <i class="fas fa-truck"></i>
                                </p>
                                <table class="table box-frete">
                                    <thead>
                                        <tr>
                                            <th></th>
                                            <th>Valor</th>
                                            <th>Tipo</th>
                                            <th>Prazo</th>
                                        </tr>
                                    </thead>
                                    <tbody>
                                        <tr>
                                            <td>
                                                <div class="radio">
                                                    <label>
                                                        <input type="radio" name="tipofrete" checked>
                                                    </label>
                                                </div>
                                            </td>
                                            <td>R$ 10,00</td>
                                            <td>PAC</td>
                                            <td>5 a 10 Dias</td>
                                        </tr>
                                        <tr>
                                            <td>
                                                <div class="radio">
                                                    <label>
                                                        <input type="radio" name="tipofrete" checked>
                                                    </label>
                                                </div>
                                            </td>
                                            <td>R$ 20,00</td>
                                            <td>SEDEX</td>
                                            <td>3 a 5 Dias</td>
                                        </tr>
                                        <tr>
                                            <td>
                                                <div class="radio">
                                                    <label>
                                                        <input type="radio" name="tipofrete" checked>
                                                    </label>
                                                </div>
                                            </td>
                                            <td>R$ 40,00</td>
                                            <td>SEDEX 10</td>
                                            <td>1 a 3 Dias</td>
                                        </tr>
                                    </tbody>
                                </table>
                            </div>

                            <div class="col-md-12 box">
                                <p class="text-white bg-dark box-title">3 - FORMA DE PAGAMENTO &nbsp;
                                    <i class="far fa-credit-card"></i>
                                </p>
                                <div class="box-pay">
                                    <div class="box-pay-div">
                                        <input id="typePayment-cred" type="radio" name="pagto" th:field="*{formaPagto.idTipo}" th:value="14">
                                        <label style="position: relative;" class="font-weight-bold box-pay-label" for="pagto-checkout">Cartão de Crédito</label>

                                        <div class="box-pag-display" id="pag-info-cred">
                                            <form action="">
                                                <br>
                                                <div class="form-group">
                                                    <label for="numero-cartao-cred">Nº Cartão</label>
                                                    <input class="form-control" type="text" name="numero-cartao-cred" id="nr-cartao-cred" placeholder="0000 0000 0000 0000" maxlength="19">
                                                </div>

                                                <div class="form-group">
                                                    <label for="nome-cartao-cred">Seu Nome</label>
                                                    <input class="form-control" type="text" name="nome-cartao-cred">
                                                </div>

                                                <div class="form-group">
                                                    <label for="vencimento-cartao-cred">Vencimento</label>
                                                    <input class="form-control" type="text" name="vencimento-cartao-cred" id="venc-cartao-cred" placeholder="00/00">
                                                </div>

                                                <div class="form-group">
                                                    <label for="codigo-seg-cartao-cred">Código de Segurança</label>
                                                    <input class="form-control" type="text" name="codigo-seg-cartao-cred" id="cod-seg-cartao-cred">
                                                </div>
                                            </form>
                                        </div>
                                    </div>

                                    <div class="box-pay-div">
                                        <input id="typePayment-deb" type="radio" name="pagto" th:field="*{formaPagto.idTipo}" th:value="15">
                                        <label class="font-weight-bold box-pay-label" for="pagto-checkout">Cartão de Débito
                                        </label>

                                        <div class="box-pag-display" id="pag-info-deb">
                                            <form action="">
                                                <br>
                                                <div class="form-group">
                                                    <label for="numero-cartao-deb">Nº Cartão</label>
                                                    <input class="form-control" type="text" name="numero-cartao-deb" id="nr-cartao-deb" placeholder="0000 0000 0000 0000" maxlength="19">
                                                </div>

                                                <div class="form-group">
                                                    <label for="nome-cartao-deb">Seu Nome</label>
                                                    <input class="form-control" type="text" name="nome-cartao-deb">
                                                </div>

                                                <div class="form-group">
                                                    <label for="vencimento-cartao-deb">Vencimento</label>
                                                    <input class="form-control" type="text" name="vencimento-cartao-deb" id="venc-cartao-deb" placeholder="00/00">
                                                </div>

                                                <div class="form-group">
                                                    <label for="codigo-seg-cartao-deb">Código de Segurança</label>
                                                    <input class="form-control" type="text" name="codigo-seg-cartao-deb" id="cod-seg-cartao-deb">
                                                </div>
                                            </form>
                                        </div>
                                    </div>

                                    <div class="box-pay-div">
                                        <input id="typePayment-boleto" type="radio" name="pagto" th:field="*{formaPagto.idTipo}" th:value="16">
                                        <label class="font-weight-bold box-pay-label" for="pagto-checkout">Boleto Bancário
                                        </label>

                                        <div class="box-pag-display" id="pag-info-boleto">
                                            <br>
                                            <ul>
                                                <li>Pagamento a Vista</li>
                                                <li>Realize a impressão do boleto ao finalizar a compra</li>
                                            </ul>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="col-md-4 col-sm-6 col-xs-12 box">
                    <p class="text-white bg-dark box-title">4 - RESUMO DO PEDIDO &nbsp;
                        <i class="fas fa-shopping-cart"></i>
                    </p>
                    <div class="box-pedido">
                        <div th:each="produto : *{carrinho.produtos}">

                            <div class="row box-pedido-item ">
                                <div class="col-md-2 col-sm-2 box-pedido-item-img">
                                    <img style="max-height: 87px; width: 60px; text-align: center;" th:src="@{~/uploads/{nomeArquivo}(nomeArquivo=${produto.urlImagem})}"
                                        alt="Imagem do produto">
                                </div>

                                <!-- Informações do produto -->
                                <div class="col-md-7 col-sm-10">
                                    <p class="font-weight-bold box-item-name" th:text="${produto.nome}">Tipo ou tag do produto
                                    </p>
                                    <p>Quantidade: [[${produto.quantidade}]]</p>
                                </div>

                                <div class="col-md-3 col-sm-12 align-self-center box-item-div-value">
                                    <p class="box-item-value box-item-value-xs" th:text="${#numbers.formatCurrency(produto.valor)}" th:value="${produto.valor}">R$ 70,00</p>
                                </div>
                            </div>
                        </div>

                        <div style="margin: 0px !important;" class="row">
                            <table class="table">
                                <tbody>
                                    <tr>
                                        <td>Subtotal</td>
                                        <td class="box-pedido-totais">R$ 100,00</td>
                                    </tr>
                                    <tr>
                                        <td>Frete</td>
                                        <td class="box-pedido-totais">R$ 10,00</td>
                                    </tr>
                                    <tr>
                                        <td class="box-pedido-total-geral">Total</td>
                                        <td class="box-pedido-totais box-pedido-total-geral" th:text="${#numbers.formatCurrency(venda.carrinho.total)}" th:value="*{carrinho.total}">R$ 110,00</td>
                                    </tr>
                                </tbody>
                            </table>

                            <div class="col-12 cart-btn-finalizar checkout-btn-finalizar">
                                <input type="submit" value="Finalizar Compra" class="btn btn-primary btn-block font-weight-bold" />
                            </div>
                        </div>

                    </div>
                </div>
            </div>
        </form>
    </div>
    <!-- /Page Content -->


    <!-- Footer -->
    <div th:replace="padrao/general.html :: footerfiles"></div>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery.mask/1.14.15/jquery.mask.min.js"></script>
    <script src="../static/js/cart.js" th:src="@{/js/cart.js}"></script>
    <script src="../static/js/checkout.js" th:src="@{/js/checkout.js}"></script>

</body>

</html>